<script type="text/javascript">
    $("#quick_view , #quick_view_2").on('click','.open_view',function(){
        console.log("Hello there");
        // product id
        let id = $(this).attr('data-sid');
        let store_username = $(this).attr('data-sname');
        console.log(id);
        console.log(store_username);
        
        // hide the modal data
        $('#modalContent').hide();
        $('#modalSpinner').show();

        mydata={'store_username': store_username,'product_id':id}
        mythis=this;

        //ajax request
        $.ajax({
            url:"{% url 'vendors:api_store_product_detail' %}",
            type:'GET',
            data:mydata,
            success:function(data){
                // converts string of json to object
                data = JSON.parse(data);
                console.log(data);

                if(data.status == '200'){
                    // show modal data place after successfully data get 
                    $('#modalContent').show();
                    $('#modalSpinner').hide();

                    //add data to html fields
                    $('#modalTitle').append(data.title);
                    $('#pro-1').html('<img src="'+ data.image+ '" alt="image Loading "/>');
                    $('#description').text(data.description);
                    $('#sup-price').text('$'+data.sup_price);
                    $('#selling-price').text('$'+data.selling_price);

                    //modal button for rediect
                    $('#update-id').on('click', function(){
                        console.log("update id clicked");
                        let aval=$('#update-id').attr("href");

                        var Obj={
                            0: store_username, 
                            1: id, 
                        }
                        var url = "{% url 'vendors:store_product_update' store_username=0 product_id=1 %}";
                        
                        //replace
                        var urlLink = url.replace(/0|1/gi, function(matched){ 
                            return Obj[matched]; 
                        }); 
                        console.log(urlLink);
                        $(this).attr("href",urlLink)
                    });

                    //add product modal button
                    $('#addproduct-id').on('click', function(){
                        console.log("add product id clicked");
                        var url = "{% url 'vendors:store_product_add' store_username=0  %}".replace('0',store_username);
                        $(this).attr("href",url)
                    });

                }
                else if(data.status=='404'){
                    $('#modalContent').show();
                    $('#modalContent').html('<h1>Please Reload!</h1>');
                    $('#modalSpinner').hide();
                }
                
            }
        })

        
    })
    
</script>

    {% comment %} $(this).attr('href','"{% url 'vendors:store_product_update' store_username='"+store_username+"'  product_id='"+id+"'  %}"') {% endcomment %}
{% comment %} stores/Kashmeri/products/2/update/ {% endcomment %}